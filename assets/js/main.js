let scrollTop=document.querySelector(".scroll-top");function toggleScrollTopButton(){600<window.scrollY?(scrollTop.style.opacity="1",scrollTop.style.pointerEvents="auto"):(scrollTop.style.opacity="0",scrollTop.style.pointerEvents="none")}scrollTop&&(toggleScrollTopButton(),window.addEventListener("scroll",toggleScrollTopButton),scrollTop.addEventListener("click",()=>{window.scrollTo({top:0,behavior:"smooth"})}));let scrollWidthFunc=()=>{var e=window.innerWidth-document.body.clientWidth;document.querySelector("html").style.paddingRight=e+"px",document.querySelector("header").classList.contains("fixed")&&(document.querySelector("header").style.paddingRight=e+"px")};document.addEventListener("DOMContentLoaded",function(){document.querySelectorAll(".tabs-section").forEach(o=>{{let l=o.querySelectorAll(".tab"),s=o.querySelectorAll(".tab-content"),a=o.querySelector(".tabs-mobile"),d=o.querySelector(".button--more"),e=o.querySelector(".articles__list"),t=o.querySelectorAll(".article"),u=o.querySelector(".gallery-page__list"),m=o.querySelectorAll(".gallery__slide"),p=document.querySelector(".reviews__content"),v=document.querySelector(".reviews__content .tab-content.active"),h=0,y=[];if(a&&a.addEventListener("click",()=>{a.classList.toggle("opened")}),0<l.length)for(let c=0;c<l.length;c++)l[c].addEventListener("click",e=>{var t,o=l[c].dataset.category;if(!l[c].classList.contains("active"))if(l.forEach(e=>{e.classList.remove("active")}),l[c].classList.add("active"),h=0,y=[],0===s.length){if(u){var n=o,r=m,i=m.length;h=0,y=[],r.forEach(e=>e.classList.remove("active")),y="all"==n?Array.from(r):Array.from(r).filter(e=>e.dataset.category===n);for(let e=0;e<Math.min(i,y.length);e++)y[e].classList.add("active"),h++;d&&(h<i&&!d.classList.contains("hidden")?d.classList.add("hidden"):h>=i&&d.classList.contains("hidden")&&d.classList.remove("hidden"))}}else t=o,s.forEach(e=>{e.classList.remove("active"),t==e.dataset.category&&e.classList.add("active")}),p&&g((v=s[c]).querySelectorAll(".review"),9);window.matchMedia("(max-width: 768px)").matches&&(a.querySelector("span").textContent=l[c].dataset.name)});function g(t,o){var n=(t=0<y.length?y:t).length;n<=o?d.classList.add("hidden"):(d.classList.remove("hidden"),d.textContent="Смотреть еще");for(let e=h;e<Math.min(h+o,n);e++)t[e].classList.add("active");(h=Math.min(h+o,n))==n&&(d.textContent="Свернуть")}function n(e,t){0<y.length&&(e=y),h=0,e.forEach(e=>e.classList.remove("active")),g(e,t),d.textContent="Смотреть еще",window.scrollTo({top:0,behavior:"smooth"})}d&&d.addEventListener("click",()=>{"Смотреть еще"===d.textContent?(e&&g(t,3),p&&g(v.querySelectorAll(".review"),9)):(e&&n(t,12),p&&n(v.querySelectorAll(".review"),9))}),e&&g(t,12),p&&g(v.querySelectorAll(".review"),9)}}),Fancybox.bind("[data-fancybox]",{loop:!0});let n=document.body,e=document.querySelector(".header__burger"),t=document.querySelector(".menu-mobile"),o=e=>{e.preventDefault(),e.currentTarget.closest(".main-navigation__item").classList.toggle("opened")},r=e=>{e.preventDefault(),e.currentTarget.classList.toggle("opened")};function i(e){e.classList.remove("open"),document.body.classList.remove("no-scroll"),document.querySelector("html").removeAttribute("style"),document.querySelector("header").removeAttribute("style")}e.addEventListener("click",function(){e.classList.contains("header__burger--opened")?(t.classList.remove("opened"),e.classList.remove("header__burger--opened"),n.classList.remove("no-scroll"),document.querySelectorAll(".main-navigation__link").forEach(e=>{e.removeEventListener("click",o)}),document.querySelectorAll(".submenu__link").forEach(e=>{e.removeEventListener("click",r)})):(t.classList.add("opened"),e.classList.add("header__burger--opened"),n.classList.add("no-scroll"),document.querySelectorAll(".main-navigation__link").forEach(e=>{e.addEventListener("click",o)}),document.querySelectorAll(".submenu__link").forEach(e=>{e.addEventListener("click",r)}))});var c=document.querySelectorAll(".popup-btn");let l=document.querySelectorAll(".popup");var s=document.querySelectorAll(".popup__close"),a=document.querySelector(".button-back"),d=document.querySelectorAll(".button__ok"),s=(s.forEach(function(e){e.addEventListener("click",function(e){i(e.target.closest(".popup"))})}),a.addEventListener("click",function(e){i(e.target.closest(".popup"))}),d.forEach(function(e){e.addEventListener("click",function(e){i(e.target.closest(".popup"))})}),c.forEach(function(e){e.addEventListener("click",function(e){e.preventDefault();e=e.currentTarget.dataset.path,e=document.querySelector(`[data-target="${e}"]`);e&&(l.forEach(function(e){i(e),e.addEventListener("click",function(e){e.target.closest(".popup__content")||i(e.target.closest(".popup"))})}),e.classList.add("open"),scrollWidthFunc(),document.querySelector("body").classList.add("no-scroll"))})}),document.querySelectorAll("#map"));let u=!1;if(0<s.length){var m,p=new IntersectionObserver(function(e){e.forEach(e=>{e.isIntersecting&&!u&&(document.querySelector('[src="https://api-maps.yandex.ru/2.1/?lang=ru_RU"]')?v():((e=document.createElement("script")).type="text/javascript",e.src="https://api-maps.yandex.ru/2.1/?lang=ru_RU&apikey=a4f55514-66d5-4d7b-9085-a40677911f31",e.onload=v,document.head.appendChild(e)))})},{threshold:[.5]});for(m of s)p.observe(m)}function v(){u||(u=!0,ymaps.ready(function(){var e=new ymaps.Map("map",{center:[43.70388,39.584119],zoom:17,controls:["smallMapDefaultSet"]}),t=new ymaps.Placemark([43.70388,39.584119],{hintContent:"г. Сочи, ул. Декабристов, 33",balloonContent:"г. Сочи, ул. Декабристов, 33"});e.geoObjects.add(t),e.behaviors.disable(["scrollZoom"])}))}let h=window.matchMedia("(min-width: 1024px)"),y,g;function f(){!0===h.matches?(void 0!==y&&y.destroy(!0,!0),void 0!==g&&g.destroy(!0,!0)):!1===h.matches&&(y=new Swiper(".tariffs__slider",{watchOverflow:!0,on:{resize:function(){y.update()}},breakpoints:{0:{slidesPerView:1.1,spaceBetween:10}}}),g=new Swiper(".steps__slider",{watchOverflow:!0,on:{resize:function(){g.update()}},breakpoints:{0:{slidesPerView:1.1,spaceBetween:10},768:{slidesPerView:2.1,spaceBetween:10}}}))}f(),h.addEventListener("change",f);document.querySelector(".doctors__slider")&&new Swiper(".doctors__slider",{navigation:{nextEl:".doctors-slider__navigation .swiper-button-next",prevEl:".doctors-slider__navigation .swiper-button-prev"},slidesPerView:1.1,spaceBetween:10,breakpoints:{1023:{slidesPerView:2,spaceBetween:10}}});a=document.querySelector(".reviews__slider");a&&new Swiper(".reviews__slider",{navigation:{nextEl:".reviews-slider__navigation .swiper-button-next",prevEl:".reviews-slider__navigation .swiper-button-prev"},slidesPerView:1.1,spaceBetween:10,loop:!1,breakpoints:{768:{slidesPerView:2}}}),document.querySelectorAll(".review").forEach(n=>{let r=n.querySelector(".review__text");if(r){let o=window.innerWidth<=768?320:142;if(r.scrollHeight>o){let e=n.querySelector(".review__button"),t=(e.classList.remove("hidden"),r.style.maxHeight=o+"px",!1);e.addEventListener("click",function(){t=t?(r.style.maxHeight=o+"px",!(e.textContent="Читать полностью")):(r.style.maxHeight=r.scrollHeight+"px",e.textContent="Свернуть",!0)})}}});document.querySelector(".promos__slider")&&new Swiper(".promos__slider",{navigation:{nextEl:".promos-slider__navigation .swiper-button-next",prevEl:".promos-slider__navigation .swiper-button-prev"},slidesPerView:1.1,spaceBetween:10,loop:!0,breakpoints:{768:{slidesPerView:2},1023:{slidesPerView:3}}});d=document.querySelector(".documents__slider"),d&&new Swiper(".documents__slider",{navigation:{nextEl:".documents-slider__navigation .swiper-button-next",prevEl:".documents-slider__navigation .swiper-button-prev"},slidesPerView:1.1,spaceBetween:10,loop:!0,breakpoints:{768:{slidesPerView:2},1023:{slidesPerView:3}}}),c=document.querySelectorAll(".search");let _=document.querySelector(".search-btn"),L=document.querySelector(".search--desktop"),w=document.querySelector(".popup__bottom");c.forEach(e=>{let t=e.querySelector(".search__input"),o=e.querySelector(".search__wrapper");t.addEventListener("input",()=>{""!==t.value.trim()?(o.classList.add("active"),w&&w.classList.add("hidden")):(o.classList.remove("active"),w&&w.classList.remove("hidden"))}),_.addEventListener("click",()=>{L.classList.add("active"),1024<=window.innerWidth&&n.classList.add("no-scroll")}),document.addEventListener("click",e=>{!L.classList.contains("active")||e.target.closest(".search--desktop")||e.target.closest(".search-btn")||(L.classList.remove("active"),1024<=window.innerWidth&&n.classList.remove("no-scroll"))})});s=document.querySelector(".intro__search");if(s){a=document.getElementById("faq-search");let t=s.querySelector(".search__wrapper"),n=s.querySelector(".search__list"),o=s.querySelector(".search__wrapper--error");if(!(a&&t&&n&&o))return;s.addEventListener("submit",e=>{e.preventDefault()}),a.addEventListener("input",function(){let i=this.value.toLowerCase().trim();if(i){var e=document.querySelectorAll(".details");let r=[];e.forEach(e=>{var t=e.querySelector(".details__title span:first-child").textContent,o=e.querySelector(".details__content").textContent,n=e.closest(".tab-content").dataset.category;(t.toLowerCase().includes(i)||o.toLowerCase().includes(i))&&r.push({element:e,question:t,category:n})}),n.innerHTML="",r.length?(t.classList.add("active"),o.classList.remove("active"),r.forEach(o=>{var e=document.createElement("li");e.textContent=o.question,e.addEventListener("click",()=>{var e,t;e=o.category,document.querySelectorAll(".main-tab").forEach(e=>e.classList.remove("active")),document.querySelectorAll(".tab-content").forEach(e=>e.classList.remove("active")),document.querySelector(`.main-tab[data-category="${e}"]`).classList.add("active"),document.querySelector(`.tab-content[data-category="${e}"]`).classList.add("active"),o.element&&((t=o.element).setAttribute("open",""),setTimeout(()=>{t.scrollIntoView({behavior:"smooth",block:"center"})},100))}),n.appendChild(e)})):(t.classList.remove("active"),o.classList.add("active"))}else t.classList.remove("active"),o.classList.remove("active")}),document.addEventListener("click",function(e){e.target.closest(".intro__search")||(t.classList.remove("active"),o.classList.remove("active"))})}d=document.querySelector(".text-content__nav");if(d){var S=document.querySelectorAll("h2");if(0<S.length){var E=d.querySelector("ul");E.innerHTML="";for(let e=0;e<S.length;e+=1){var b=S[e],q=b.textContent,k=document.createElement("li"),x=document.createElement("a"),A="top-"+(e+1);b.setAttribute("id",A),x.setAttribute("href","#"+A),x.textContent=q,k.append(x),E.append(k)}document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var e=this.getAttribute("href").substring(1),e=document.getElementById(e);e&&(e=e.getBoundingClientRect().top,window.scrollBy({top:e-280,behavior:"smooth"}))})})}else{c=d.closest("details");c&&(c.style.display="none")}}function C(e,n,r){e.querySelectorAll(".button__more").forEach(o=>{o.addEventListener("click",function(){var e=this.closest("ul")||this.previousElementSibling;if(e&&"UL"===e.tagName){var t=e.querySelectorAll("li");if(0<t.length){for(let e=n;e<t.length;e++)t[e].classList.toggle("hidden");o.textContent=o.textContent===r?"Свернуть":r}}})})}document.querySelectorAll(".button--open").forEach(e=>{e.addEventListener("click",function(){var e,t,o=this.closest(".text-content");o&&(o=o.querySelector(".text-content__wrapper"))&&(e=window.innerWidth<=768,o.style.maxHeight===(t=e?"7500px":"5500px")?(o.style.maxHeight=e?"1610px":"750px",this.textContent="Читать полностью",this.classList.remove("opened")):(o.style.maxHeight=t,this.textContent="Свернуть",this.classList.add("opened")))})});s=document.querySelector(".tariffs"),s&&C(s,6,"Все преимущества"),a=document.querySelector(".vacancies"),a&&C(a,3,"Все требования"),d=document.querySelectorAll(".animation-item");if(0<d.length){var T,H=new IntersectionObserver(function(e){e.forEach(e=>{e.isIntersecting&&e.target.classList.add("animation-active")})},{threshold:[.5]});for(T of d)H.observe(T)}if(1!=Number(localStorage.getItem("cookie-checker"))){let t=document.createElement("div");c=document.createElement("button");c.innerText="Принять",t.classList.add("cookie-block"),t.innerHTML='<p>Этот сайт использует файлы cookies для более комфортной работы пользователя. К сайту подключен сервис Яндекс.Метрика. Продолжая просмотр страниц сайта, вы соглашаетесь на обработку персональных данных в соответствии с <a href="/politika-obrabotki-i-zashchity-personalnyh-dannyh/">Политикой обработки и защиты персональных данных</a>, <a href="/polzovatelskoe-soglashenie/">Пользовательским соглашением</a>, <a href="/soglasie-na-obrabotku-personalnyh-dannyh-yandexmetrika/">Согласием на обработку персональных данных с помощью Яндекс.Метрика</a>.</p>',t.appendChild(c),c.addEventListener("click",function(e){e.preventDefault(),localStorage.setItem("cookie-checker","1"),t.classList.add("accepted"),setTimeout(function(){document.querySelector(".cookie-block").remove()},1e3)}),document.body.appendChild(t)}let B={},D={emergency:{title:"Экстренная детоксикация + амбулаторное лечение",match:"75-85%",description:"Рекомендуется начинать с экстренной помощи для снятия острых симптомов с последующим переходом на амбулаторную программу.",recommendations:["Вывод из запоя/снятие ломки на дому или в стационаре","Детоксикационная терапия под наблюдением врача","Амбулаторное лечение с регулярными визитами к наркологу","Медикаментозная поддержка для снижения тяги","Психологическое консультирование 1-2 раза в неделю"],services:["Лечение алкоголизма","Лечение наркомании"]},outpatient:{title:"Амбулаторное лечение с поддержкой",match:"80-90%",description:"Программа для тех, кто может сохранять повседневную активность, но нуждается в систематической профессиональной поддержке.",recommendations:["Регулярные визиты к наркологу (2-4 раза в месяц)","Индивидуальная психотерапия по программе 12 шагов","Групповые занятия поддержки","Медикаментозное сопровождение","Работа с психологом над причинами зависимости","Семейная терапия при наличии поддержки близких"],services:["Лечение алкоголизма","Лечение наркомании","Психотерапия"]},comprehensive:{title:"Комплексный стационар",match:"85-95%",description:"Наиболее эффективный вариант при средней и тяжелой степени зависимости. Полная изоляция от триггеров и круглосуточная поддержка.",recommendations:["Госпитализация в стационар на 14-30 дней","Круглосуточное наблюдение врачей и психологов","Интенсивная детоксикация и восстановительная терапия","Ежедневные индивидуальные и групповые занятия","Семейная терапия и работа с созависимостью","Физиотерапия и ЛФК для восстановления организма"],services:["Лечение алкоголизма","Лечение наркомании","Стационарное лечение"]},coding:{title:"Кодирование + реабилитация",match:"70-85%",description:"Подходит для тех, кто нуждается в быстром результате и дополнительной мотивации с последующей психологической работой.",recommendations:["Медикаментозное или психотерапевтическое кодирование","Курс поддерживающей терапии после кодирования","Реабилитационная программа 3-6 месяцев","Работа с психологом над изменением мышления","Поддерживающие группы после основного лечения","Профилактика рецидивов"],services:["Кодирование","Реабилитация","Лечение алкоголизма"]},rehabilitation:{title:"Долгосрочная реабилитация",match:"90-95%",description:"Программа для достижения устойчивой ремиссии с полным изменением образа жизни и мышления.",recommendations:["Реабилитационный центр на 3-12 месяцев","Полное погружение в терапевтическую среду","Интенсивная психологическая работа","Трудовая терапия и социальная адаптация","Работа с родственниками и восстановление отношений","Программа профилактики рецидивов","Поддержка после выписки (амбулаторные группы)"],services:["Реабилитация","Социальная адаптация","Долгосрочная поддержка"]}},I=1;function W(){if(B["slide"+I])if(5===I)if(document.querySelectorAll(".calculator__navigation").forEach(e=>{e.classList.add("hidden")}),B.slide5){let e=0;for(var n in B)e+=B[n];let t;t=e<=8?"coding":e<=12?"outpatient":e<=16?"comprehensive":1===B.slide5?"emergency":"rehabilitation";var r=D[t];document.getElementById("slide5").classList.remove("active"),document.getElementById("slideResult").classList.add("active"),document.getElementById("resultType").textContent=r.title,document.getElementById("resultMatch").textContent=r.match+" совпадение",document.getElementById("resultDescription").textContent=r.description;let o=document.getElementById("recommendationList");o.innerHTML="",r.recommendations.forEach(e=>{var t=document.createElement("li");t.innerHTML=""+e,o.appendChild(t)}),document.querySelector(".calculator__navigation").style.display="none"}else alert("Пожалуйста, выберите ответ на последний вопрос");else document.getElementById("slide"+I).classList.remove("active"),I++,document.getElementById("slide"+I).classList.add("active"),M();else alert("Пожалуйста, выберите ответ на вопрос")}function M(){document.querySelectorAll(".calculator__slide").forEach(e=>{e.textContent=I})}M(),document.querySelectorAll(".answer").forEach(e=>{e.addEventListener("click",function(){var e=this.querySelector("input[type=radio]");e&&(e.checked=!0,e=this.closest(".slide").id.replace("slide",""),B["slide"+e]=parseInt(this.getAttribute("data-value")))})}),document.querySelectorAll(".calculator__navigation .button").forEach(e=>{e.addEventListener("click",()=>{W()})});s=document.querySelector(".widget");let P=document.querySelector(".widget__open"),V=document.querySelector(".widget__wrapper");s&&(P.addEventListener("click",function(e){V.classList.toggle("active"),P.classList.toggle("active")}),s.querySelectorAll(".widget__link").forEach(e=>{e.addEventListener("click",function(){V.classList.remove("active"),P.classList.remove("active")})}))});
//# sourceMappingURL=main.js.map
